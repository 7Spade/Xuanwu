---
# å…¨å±€é‚Šç•Œè¦å‰‡ï¼ˆåŸºæ–¼ DDD 8 å±¤æ¶æ§‹ï¼‰

ä»¥ä¸‹ç‚ºå¯ç›´æ¥æ”¾å…¥ `AGENTS.md` æˆ–æ¶æ§‹è¦ç¯„æ–‡ä»¶çš„**æ¨¡çµ„é‚Šç•Œè¦å‰‡å¥**ï¼Œæ¶µè“‹ `General Standard DDD.md` å®šç¾©çš„æ¶æ§‹å±¤ç´šï¼š

**å‰ç«¯å±¤ç´š**:
- app/core
- app/domain
- app/application
- app/infrastructure
- app/features
- app/shared

**å…±äº«å±¤ç´š**:
- shared-kernel

**å¾Œç«¯å±¤ç´š**:
- functions

èªå¥æ¡æ¢æ–‡åŒ–ï¼Œå¯ç›´æ¥ä½œç‚ºåœ˜éšŠç´„æŸã€‚
---

# ğŸ“ å…¨åŸŸé‚Šç•Œç¸½å‰‡ï¼ˆDDD å±¤ç´šï¼‰

- åƒ…å…è¨±é€éå„å±¤ç´šæ ¹ç›®éŒ„çš„ `index.ts` public API é€²è¡Œå¼•ç”¨ã€‚
- ç¦æ­¢ deep import ä»»ä¸€å±¤ç´šçš„ `/domain`ã€`/application`ã€`/infrastructure` å…§éƒ¨è³‡æ–™å¤¾ã€‚
- ç¦æ­¢å¾ªç’°ä¾è³´ï¼ˆA â†’ B â†’ Aï¼‰ã€‚
- ç¦æ­¢è·¨å±¤ç›´æ¥å­˜å– infrastructure å¯¦ä½œç´°ç¯€ã€‚
- æ‡‰å„ªå…ˆé€é application service æˆ– domain events æºé€šã€‚
- shared-kernel èˆ‡ app/shared ç‚ºåŸºç¤å±¤ï¼Œå¯è¢«ä¾è³´ï¼Œä½†ä¸å¾—ä¾è³´æ¥­å‹™å±¤ã€‚

---

# ğŸ§± ä¾è³´æ–¹å‘ç¸½åœ–ï¼ˆåŸºæ–¼ DDD åˆ†å±¤æ¨¡å‹ï¼‰

```
app/core
â”œâ”€ app/application
â”‚  â”œâ”€ app/domain
â”‚  â”œâ”€ app/infrastructure
â”‚  â””â”€ shared-kernel
â”‚
â”œâ”€ app/features
â”‚  â”œâ”€ app/application
â”‚  â””â”€ app/shared
â”‚
â””â”€ shared-kernel (æœ€ä½å±¤)

functions/src/ ï¼ˆç¨ç«‹å¾Œç«¯æ¶æ§‹ï¼‰
â”œâ”€ interfaces
â”œâ”€ application
â”œâ”€ domain
â”œâ”€ infrastructure
â””â”€ shared
```

---

# ğŸ§© shared-kernel & app/shared é‚Šç•Œè¦å‰‡

## shared-kernelï¼ˆæœ€ä½å±¤ï¼‰

- åƒ…åŒ…å«é€šç”¨æ¨¡å‹ã€åŸºç¤å‹åˆ¥ã€å·¥å…·èˆ‡æŠ½è±¡ã€‚
- ä¸å¾—ä¾è³´ä»»ä½•æ¥­å‹™æ¨¡çµ„æˆ–æ¡†æ¶ã€‚
- 100% Pure TypeScriptï¼Œé›¶å¤–éƒ¨ä¾è³´ã€‚
- ä¸å¾—åŒ…å«æ¥­å‹™èªæ„ã€Angularã€Firebaseã€‚

è¦å‰‡å¥ï¼š
> shared-kernel æ˜¯çµ•å°åŸºç¤å±¤ï¼Œåªèƒ½è¢«ä¾è³´ï¼Œä¸å¾—ä¾è³´ä»–äººï¼Œå¿…é ˆæ¡†æ¶ç„¡é—œã€‚

## app/sharedï¼ˆAngular å±¤ UI å·¥å…·ï¼‰

- åŒ…å«å¯é‡ç”¨çš„ UI åŸå­çµ„ä»¶ã€æŒ‡ä»¤ã€ç®¡é“ã€‚
- ä¸å¾—åŒ…å«æ¥­å‹™é‚è¼¯æˆ–ç‹€æ…‹ç®¡ç†ã€‚
- ä¸å¾—ç›´æ¥å‘¼å« API æˆ– Firebaseã€‚
- ä¸å¾—è¢« app/domain æˆ– app/application ä¾è³´ã€‚

è¦å‰‡å¥ï¼š
> app/shared æä¾› UI å·¥å…·ï¼Œåªç‚º app/features æœå‹™ï¼Œä¸å¯è¢«æ¥­å‹™å±¤ä¾è³´ã€‚

---

---

# ğŸ—ï¸ app/core é‚Šç•Œè¦å‰‡

- è² è²¬æ‡‰ç”¨å…¨åŸŸåŸºç¤è¨­æ–½åˆå§‹åŒ–èˆ‡é…ç½®ã€‚
- åŒ…å«èªè­‰ã€æ””æˆªå™¨ã€æä¾›è€…ã€éŒ¯èª¤è™•ç†ã€‚
- ä¸å¾—åŒ…å«ä»»ä½•æ¥­å‹™é‚è¼¯ã€‚
- è¢« app/application èˆ‡ app/features ä¾è³´ã€‚

è¦å‰‡å¥ï¼š
> app/core æ˜¯æŠ€è¡“åŸºç¤ï¼Œä¸æ‰¿è¼‰æ¥­å‹™æ±ºç­–ã€‚

---

# ğŸ“¦ app/domain é‚Šç•Œè¦å‰‡

- åŒ…å«ç´”æ¥­å‹™é‚è¼¯ï¼Œæ¡†æ¶ç„¡é—œã€‚
- åŒ…å«èšåˆæ ¹ã€å¯¦é«”ã€å€¼å°è±¡ã€é ˜åŸŸæœå‹™ã€äº‹ä»¶ã€‚
- ä¸å¾—ä¾è³´ä»»ä½•å…¶ä»–å±¤ï¼ˆåªèƒ½ä¾è³´ shared-kernelï¼‰ã€‚
- ä¸å¾—åŒ…å« HTTPã€Firebaseã€UI é‚è¼¯ã€‚
- å…§éƒ¨çµæ§‹æŒ‰ bounded_context çµ„ç¹”ã€‚

è¦å‰‡å¥ï¼š
> app/domain æ˜¯æ¥­å‹™æ ¸å¿ƒï¼Œå¿…é ˆæ¡†æ¶ç„¡é—œã€å¯å®Œå…¨éš”é›¢æ¸¬è©¦ã€‚

---

# ğŸ¢ app/application é‚Šç•Œè¦å‰‡

- è² è²¬æ‡‰ç”¨å±¤å”èª¿èˆ‡ç”¨ä¾‹ç·¨æ’ã€‚
- åŒ…å« commandsã€queriesã€dtosã€mappersã€use-casesã€‚
- å¯ä¾è³´ app/domain èˆ‡ shared-kernelã€‚
- é€éä¾è³´æ³¨å…¥å‘¼å« app/infrastructureã€‚
- ä¸å¾—ç›´æ¥å‘¼å« SDKï¼ˆç”± infrastructure æä¾›ï¼‰ã€‚

è¦å‰‡å¥ï¼š
> app/application å”èª¿æ¥­å‹™èˆ‡æŠ€è¡“ï¼Œä½¿ç”¨ DI éš”é›¢ä¾è³´ã€‚

---

# ğŸ”§ app/infrastructure é‚Šç•Œè¦å‰‡

- è² è²¬æŠ€è¡“å¯¦ä½œèˆ‡å¤–éƒ¨ç³»çµ±é©é…ã€‚
- åŒ…å« persistenceã€messagingã€adaptersã€repositoriesã€‚
- å¯¦ç¾ app/domain å®šç¾©çš„å€‰å„²èˆ‡åŸ ä»‹é¢ã€‚
- å¯ä¾è³´ Firebase Adminã€HTTP Clientã€ç¬¬ä¸‰æ–¹ SDKã€‚
- åªé€éå…¬é–‹ä»‹é¢æš´éœ²èƒ½åŠ›ã€‚

è¦å‰‡å¥ï¼š
> app/infrastructure éš”é›¢æŠ€è¡“ç´°ç¯€ï¼Œåªé€éä»‹é¢å‘ä¸Šæä¾›èƒ½åŠ›ã€‚

---

# ğŸ¨ app/features é‚Šç•Œè¦å‰‡

- è² è²¬ç”¨æˆ¶ UI äº’å‹•èˆ‡è·¯ç”±ã€‚
- åŒ…å« pagesã€containersã€componentsã€modelsã€‚
- ä¾è³´ app/application èˆ‡ app/sharedï¼ˆä¸ç›´æ¥ä¾è³´ infrastructureï¼‰ã€‚
- ä¿æŒ UI å±¤èˆ‡æ¥­å‹™å±¤éš”é›¢ã€‚
- ä½¿ç”¨ Signals ç®¡ç†æœ¬åœ° UI ç‹€æ…‹ã€‚

è¦å‰‡å¥ï¼š
> app/features çµ„è£ UIï¼Œä¸åŸ·è¡Œæ¥­å‹™é‚è¼¯ã€‚

---

# âš¡ è·¨å±¤äº‹ä»¶æ©Ÿåˆ¶

- app/domain å®šç¾©é ˜åŸŸäº‹ä»¶ã€‚
- app/application æ˜ å°„èˆ‡è¨‚é–±äº‹ä»¶ã€‚
- app/features é€éäº‹ä»¶é©…å‹• UI æ›´æ–°ã€‚
- é¿å…è·¨å±¤ç›´æ¥å‘¼å«ï¼Œå„ªå…ˆä½¿ç”¨äº‹ä»¶é€šè¨Šã€‚

è¦å‰‡å¥ï¼š
> äº‹ä»¶é©…å‹•è·¨å±¤é€šè¨Šï¼Œè§£è€¦æ¥­å‹™èˆ‡è¡¨ç¾å±¤ã€‚

---

# ğŸ–¥ï¸ functionsï¼ˆå¾Œç«¯ç„¡ä¼ºæœå™¨ï¼‰é‚Šç•Œè¦å‰‡

- ç¨ç«‹çš„å¾Œç«¯ DDD æ¶æ§‹ï¼Œé¡åƒå‰ç«¯åˆ†å±¤ã€‚
- åŒ…å« interfacesï¼ˆHTTP / Triggersï¼‰ã€applicationã€domainã€infrastructureã€‚
- å¾Œç«¯ domain èˆ‡å‰ç«¯ domain å¯é€é shared-kernel å…±äº«å‹åˆ¥ã€‚
- åƒ…ä½¿ç”¨ firebase-admin èˆ‡ @google-cloud/* SDKã€‚
- ä¸å¾—åŒ…å« Angularã€@angular/fire ç­‰ç€è¦½å™¨ç¨‹å¼ç¢¼ã€‚

è¦å‰‡å¥ï¼š
> functions æ˜¯ç¨ç«‹å¾Œç«¯ï¼Œä½¿ç”¨ Node.js æå‡æ¬Šé™ï¼Œä¸å¯å«ç€è¦½å™¨ç¨‹å¼ç¢¼ã€‚

---

# ğŸ”’ Import è¦å‰‡å¥ï¼ˆå¯å–®ç¨åˆ—å‡ºï¼‰

> åƒ…å…è¨±å¾æ¨¡çµ„æ ¹åŒ¯å…¥ public APIï¼›ç¦æ­¢å¼•ç”¨ä»»ä½• `/domain`ã€`/application`ã€`/infrastructure` å…§éƒ¨è·¯å¾‘ã€‚

---

# ğŸ§ª æ¸¬è©¦éš”é›¢è¦å‰‡

- æ¯å€‹æ¨¡çµ„æ¸¬è©¦éœ€å¯ç¨ç«‹é‹è¡Œã€‚
- æ¸¬è©¦ä¸å¾—è·¨æ¨¡çµ„è¼‰å…¥ infrastructureã€‚
- capability æ¸¬è©¦æ‡‰ mock workspace / account contextã€‚

---
